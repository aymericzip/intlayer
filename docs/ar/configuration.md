# وثائق تكوين Intlayer

## نظرة عامة

تتيح ملفات تكوين Intlayer تخصيص جوانب مختلفة من البرنامج المساعد، مثل التدويل، وواجهة الاستخدام، ومعالجة المحتوى. توفر هذه الوثيقة وصفًا تفصيليًا لكل خاصية في التكوين.

---

## دعم ملف التكوين

تقبل Intlayer تنسيقات ملفات التكوين JSON وJS وMJS وTS:

- `intlayer.config.ts`
- `intlayer.config.js`
- `intlayer.config.json`
- `intlayer.config.cjs`
- `intlayer.config.mjs`
- `.intlayerrc`

---

## مثال على ملف التكوين

```typescript fileName="intlayer.config.ts" codeFormat="typescript"
import { Locales, type IntlayerConfig } from "intlayer";

const config: IntlayerConfig = {
  internationalization: {
    locales: [Locales.ENGLISH],
  },
  content: {
    typesDir: "content/types",
  },
  middleware: {
    noPrefix: false,
  },
};

export default config;
```

```javascript fileName="intlayer.config.cjs" codeFormat="commonjs"
const { Locales } = require("intlayer");

/** @type {import('intlayer').IntlayerConfig} */
// تكوين التدويل:
const config = {
  internationalization: {
    locales: [Locales.ENGLISH],
  },
  content: {
    typesDir: "content/types",
  },
  middleware: {
    noPrefix: false,
  },
};

module.exports = config;
```

```json5 fileName=".intlayerrc" codeFormat="json"
{
  "internationalization": {
    "locales": ["en"],
  },
  "content": {
    "typesDir": "content/types",
  },
  "middleware": {
    "noPrefix": false,
  },
}
```

---

## مرجع التكوين

تص describe the various configuration settings available for Intlayer.

---

### تكوين التدويل

يحدد الإعدادات ذات الصلة بالتدويل، بما في ذلك المواقع المتاحة والموقع الافتراضي للتطبيق.

#### الخصائص

- **locales**:
  - _النوع_: `string[]`
  - _القيمة الافتراضية_: `['en']`
  - _الوصف_: قائمة المواقع المدعومة في التطبيق.
  - _مثال_: `['en', 'fr', 'es']`
- **strictMode**:

  - _النوع_: `string`
  - _القيمة الافتراضية_: `required_only`
  - _الوصف_: ضمان تنفيذ دقيق للمحتوى الدولي باستخدام typescript.
  - _ملاحظة_: إذا تم تعيينه على "strict"، ستتطلب دالة الترجمة `t` تعريف كل المواقع المصرح بها. إذا كانت واحدة من المواقع مفقودة، أو إذا لم يكن هناك موقع تم التصريح به في التكوين الخاص بك، فسيتم إلقاء خطأ.
  - _ملاحظة_: إذا تم تعيينه على "required_only"، ستتطلب دالة الترجمة `t` تعريف كل المواقع المصرح بها. إذا كانت واحدة من المواقع مفقودة، فسيتم إلقاء تحذير. ولكن ستقبل وجود موقع غير مقرر في التكوين الخاص بك، لكن موجود.
  - _ملاحظة_: إذا تم تعيينه على "loose"، ستقبل دالة الترجمة `t` أي موقع موجود.

- **defaultLocale**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'en'`
  - _الوصف_: الموقع الافتراضي المستخدم كبديل إذا لم يتم العثور على الموقع المطلوب.
  - _مثال_: `'en'`
  - _ملاحظة_: يتم استخدام هذا لتحديد الموقع عندما لا يتم تحديده في عنوان URL، أو الكعكة، أو الرأس.

---

### تكوين المحرر

يحدد الإعدادات ذات الصلة بالمحرر المدمج، بما في ذلك منفذ الخادم وحالة النشاط.

#### الخصائص

- **backendURL**:

  - _النوع_: `string`
  - _القيمة الافتراضية_: `https://back.intlayer.org`
  - _الوصف_: عنوان URL لخادم الخلفية.
  - _مثال_: `http://localhost:4000`

- **enabled**:

  - _النوع_: `boolean`
  - _القيمة الافتراضية_: `true`
  - _الوصف_: يشير إلى ما إذا كان المحرر نشطًا.
  - _مثال_: `true`
  - _ملاحظة_: يمكن تعيينه باستخدام NODE_ENV، أو متغير بيئي مخصص آخر

- **clientId**:

  - _النوع_: `string` | `undefined`
  - _القيمة الافتراضية_: `undefined`
  - _الوصف_: يسمح clientId وclientSecret لحزم intlayer بالمصادقة مع الخلفية باستخدام مصادقة oAuth2. يتم استخدام رمز الوصول للمصادقة مع المستخدم المرتبط بالمشروع. للحصول على رمز وصول، انتقل إلى https://intlayer.org/dashboard/project وأنشئ حسابًا.
  - _مثال_: `true`
  - _ملاحظة_: مهم: يجب أن تظل clientId وclientSecret سريتين ولا تتشاركان علنًا. يرجى التأكد من الاحتفاظ بهما في موقع آمن، مثل المتغيرات البيئية.

- **clientSecret**:
  - _النوع_: `string` | `undefined`
  - _القيمة الافتراضية_: `undefined`
  - _الوصف_: يسمح clientId وclientSecret لحزم intlayer بالمصادقة مع الخلفية باستخدام مصادقة oAuth2. يتم استخدام رمز الوصول للمصادقة مع المستخدم المرتبط بالمشروع. للحصول على رمز وصول، انتقل إلى https://intlayer.org/dashboard/project وأنشئ حسابًا.
  - _مثال_: `true`
  - _ملاحظة_: مهم: يجب أن تظل clientId وclientSecret سريتين ولا تتشاركان علنًا. يرجى التأكد من الاحتفاظ بهما في موقع آمن، مثل المتغيرات البيئية.

### تكوين واجهة الاستخدام

الإعدادات التي تتحكم في سلوك واجهة الاستخدام، بما في ذلك كيفية معالجة التطبيق للكعكات، والرؤوس، والبادئات الخاصة بإدارة المواقع.

#### الخصائص

- **headerName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'x-intlayer-locale'`
  - _الوصف_: اسم رأس HTTP المستخدم لتحديد الموقع.
  - _مثال_: `'x-custom-locale'`
  - _ملاحظة_: هذا مفيد لتحديد المواقع القائمة على API.
- **cookieName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'intlayer-locale'`
  - _الوصف_: اسم الكعكة المستخدمة لتخزين الموقع.
  - _مثال_: `'custom-locale'`
  - _ملاحظة_: يستخدم للحفاظ على الموقع عبر الجلسات.
- **prefixDefault**:
  - _النوع_: `boolean`
  - _القيمة الافتراضية_: `true`
  - _الوصف_: ما إذا كان يجب تضمين الموقع الافتراضي في عنوان URL.
  - _مثال_: `false`
  - _ملاحظة_: إذا كان `false`، فلن تحتوي عناوين URL للموقع الافتراضي على بادئة الموقع.
- **basePath**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `''`
  - _الوصف_: المسار الأساسي لعنوان URL في التطبيق.
  - _مثال_: `'/my-app'`
  - _ملاحظة_: يؤثر ذلك على كيفية بناء عناوين URL للتطبيق.
- **serverSetCookie**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'always'`
  - _الوصف_: قاعدة لتعيين كعكة الموقع على الخادم.
  - _الخيارات_: `'always'`, `'never'`
  - _مثال_: `'never'`
  - _ملاحظة_: تتحكم فيما إذا كانت كعكة الموقع يتم تعيينها في كل طلب أو لا يتم تعيينها أبدًا.
- **noPrefix**:
  - _النوع_: `boolean`
  - _القيمة الافتراضية_: `false`
  - _الوصف_: ما إذا كان يجب حذف بادئة الموقع من عناوين URL.
  - _مثال_: `true`
  - _ملاحظة_: إذا كانت `true`، فلن تحتوي عناوين URL على معلومات الموقع.

---

### تكوين المحتوى

الإعدادات المتعلقة بمعالجة المحتوى ضمن التطبيق، بما في ذلك أسماء الدلائل، وامتدادات الملفات، والتكوينات المشتقة.

#### الخصائص

- **watch**:
  - _النوع_: `boolean`
  - _القيمة الافتراضية_: `process.env.NODE_ENV === 'development'`
  - _الوصف_: يشير إلى ما إذا كان ينبغي على Intlayer مراقبة التغييرات في ملفات إعلان المحتوى في التطبيق لإعادة بناء القواميس ذات الصلة.
- **fileExtensions**:
  - _النوع_: `string[]`
  - _القيمة الافتراضية_: `['.content.ts', '.content.js', '.content.cjs', '.content.mjs', '.content.json', '.content.tsx', '.content.jsx']`
  - _الوصف_: امتدادات الملفات التي يجب البحث عنها عند بناء القواميس.
  - _مثال_: `['.data.ts', '.data.js', '.data.json']`
  - _ملاحظة_: يمكن أن يساعد تخصيص امتدادات الملفات في تجنب التداخل.
- **baseDir**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `process.cwd()`
  - _الوصف_: الدليل الأساسي للمشروع.
  - _مثال_: `'/path/to/project'`
  - _ملاحظة_: يستخدم لحل جميع الأدلة المتعلقة بـ Intlayer.
- **dictionaryOutput**:
  - _النوع_: `string[]`
  - _القيمة الافتراضية_: `['intlayer']`
  - _الوصف_: نوع مخرجات القاموس للاستخدام، مثل `'intlayer'` أو `'i18next'`.
- **contentDirName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'src'`
  - _الوصف_: اسم الدليل الذي يتم تخزين المحتوى فيه.
  - _مثال_: `'data'`, `'content'`, `'locales'`
  - _ملاحظة_: إذا لم يكن عند مستوى الدليل الأساسي، قم بتحديث `contentDir`.
- **contentDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'baseDir'` / `'contentDirName'`
  - _الوصف_: مسار الدليل حيث يتم تخزين المحتوى.

- **resultDirName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'.intlayer'`
  - _الوصف_: اسم الدليل حيث يتم تخزين النتائج.
  - _مثال_: `'outputOFIntlayer'`
  - _ملاحظة_: إذا لم يكن هذا الدليل عند المستوى الأساسي، قم بتحديث `resultDir`.
- **resultDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'baseDir'` / `'resultDirName'`
  - _الوصف_: المسار للدليل لتخزين النتائج الوسيطة أو المخرجات.

- **moduleAugmentationDirName**:

  - _النوع_: `string`
  - _القيمة الافتراضية_: `'types'`
  - _الوصف_: الدليل لتوسيع الوحدة، مما يسمح باقتراحات IDE أفضل والتحقق من الأنواع.
  - _مثال_: `'intlayer-types'`
  - _ملاحظة_: تأكد من تضمين ذلك في `tsconfig.json`.

- **moduleAugmentationDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'baseDir'` / `'moduleAugmentationDirName'`
  - _الوصف_: المسار لتوسيع الوحدة والتعريفات الإضافية للنوع.

- **dictionariesDirName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'dictionary'`
  - _الوصف_: الدليل لتخزين القواميس.
  - _مثال_: `'translations'`
  - _ملاحظة_: إذا لم يكن عند مستوى الدليل الناتج، قم بتحديث `dictionariesDir`.
- **dictionariesDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'resultDir'` / `'dictionariesDirName'`
  - _الوصف_: الدليل لتخزين قواميس التوطين.

- **i18nextResourcesDirName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'i18next_dictionary'`
  - _الوصف_: الدليل لتخزين قواميس i18n.
  - _مثال_: `'translations'`
  - _ملاحظة_: إذا لم يكن عند مستوى الدليل الناتج، قم بتحديث `i18nextResourcesDir`.
  - _ملاحظة_: تأكد من أن مخرجات القواميس i18n تشمل i18next لبناء القواميس لـ i18next
- **i18nextResourcesDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'resultDir'` / `'i18nextResourcesDirName'`
  - _الوصف_: الدليل لتخزين قواميس i18n.
  - _ملاحظة_: تأكد من تكوين هذا الدليل لنوع الإخراج الخاص بـ i18next.

- **typeDirName**:

  - _النوع_: `string`
  - _القيمة الافتراضية_: `'types'`
  - _الوصف_: الدليل لتخزين أنواع القاموس.
  - _مثال_: `'intlayer-types'`
  - _ملاحظة_: إذا لم يكن عند مستوى الدليل الناتج، قم بتحديث `typesDir`.

- **typesDir**:

  - _النوع_: `string`
  - _المشتقة من_: `'resultDir'` / `'typeDirName'`
  - _الوصف_: الدليل لتخزين أنواع القاموس.

- **mainDirName**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'main'`
  - _الوصف_: الدليل لتخزين الملفات الرئيسية.
  - _مثال_: `'intlayer-main'`
  - _ملاحظة_: إذا لم يكن عند مستوى الدليل الناتج، قم بتحديث `mainDir`.
- **mainDir**:
  - _النوع_: `string`
  - _المشتقة من_: `'resultDir'` / `'mainDirName'`
  - _الوصف_: الدليل حيث يتم تخزين ملفات التطبيق الرئيسية.
- **excludedPath**:
  - _النوع_: `string[]`
  - _القيمة الافتراضية_: `['node_modules']`
  - _الوصف_: الأدلة المستبعدة من البحث عن المحتوى.
  - _ملاحظة_: لم يتم استخدام هذا الإعداد بعد، ولكنه مخطط للتنفيذ في المستقبل.

### تكوين المسجل

الإعدادات التي تتحكم في المسجل، بما في ذلك مستوى تسجيل الدخول والبادئة التي يجب استخدامها.

#### الخصائص

- **enabled**:
  - _النوع_: `boolean`
  - _القيمة الافتراضية_: `true`
  - _الوصف_: يشير إلى ما إذا كان المسجل مفعلًا.
  - _مثال_: `true`
  - _ملاحظة_: يمكن تعيينه باستخدام NODE_ENV، أو متغير بيئي مخصص آخر
- **level**:
  - _النوع_: `'info' | 'warn' | 'debug' | 'log'`
  - _القيمة الافتراضية_: `'log'`
  - _الوصف_: مستوى المسجل.
  - _مثال_: `'info'`
  - _ملاحظة_: مستوى المسجل. يمكن أن يكون إما 'log' أو 'info' أو 'warn' أو 'error' أو 'debug'.
- **prefix**:
  - _النوع_: `string`
  - _القيمة الافتراضية_: `'[intlayer] '`
  - _الوصف_: بادئة المسجل.
  - _مثال_: `'[my custom prefix] '`
  - _ملاحظة_: بادئة المسجل.
