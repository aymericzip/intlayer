# توثيق إعدادات Intlayer

## نظرة عامة

تسمح ملفات إعداد Intlayer بتخصيص جوانب مختلفة من الإضافة، مثل التدويل، والبرمجيات الوسيطة، ومعالجة المحتوى. توفر هذه الوثيقة وصفًا تفصيليًا لكل خاصية في التكوين.

---

## دعم ملف الإعدادات

يقبل Intlayer تنسيقات ملفات الإعداد JSON و JS و MJS و TS:

- `intlayer.config.ts`
- `intlayer.config.js`
- `intlayer.config.json`
- `intlayer.config.cjs`
- `intlayer.config.mjs`
- `.intlayerrc`

---

## مثال على ملف الإعدادات

```typescript
// intlayer.config.ts

import { Locales, type IntlayerConfig } from "intlayer";

const config: IntlayerConfig = {
  internationalization: {
    locales: [Locales.ENGLISH],
  },
  content: {
    typesDir: "content/types",
  },
  middleware: {
    noPrefix: false,
  },
};

export default config;
```

```javascript
// intlayer.config.cjs

const { Locales } = require("intlayer");

/** @type {import('intlayer').IntlayerConfig} */
const config = {
  internationalization: {
    locales: [Locales.ENGLISH],
  },
  content: {
    typesDir: "content/types",
  },
  middleware: {
    noPrefix: false,
  },
};

module.exports = config;
```

```json5
// .intlayerrc

{
  "internationalization": {
    "locales": ["en"],
  },
  "content": {
    "typesDir": "content/types",
  },
  "middleware": {
    "noPrefix": false,
  },
}
```

---

## مرجع الإعدادات

تصف الأقسام التالية إعدادات التكوين المختلفة المتاحة لـ Intlayer.

---

### إعدادات التدويل

تعرف الإعدادات المتعلقة بالتدويل، بما في ذلك المواقع المتاحة والموقع الافتراضي للتطبيق.

#### الخصائص

- **locales**:
  - _النوع_: `string[]`
  - _افتراضي_: `['en']`
  - _الوصف_: قائمة المواقع المدعومة في التطبيق.
  - _مثال_: `['en', 'fr', 'es']`
- **strictMode**:

  - _النوع_: `string`
  - _افتراضي_: `required_only`
  - _الوصف_: ضمان تنفيذ قوي للمحتوى المترجم باستخدام TypeScript.
  - _ملاحظة_: إذا تم تعيينه إلى "strict"، ستتطلب دالة الترجمة `t` تعريف كل المواقع المعلنة. إذا كان هناك موقع مفقود، أو إذا لم يتم إعلان موقع في التكوين الخاص بك، ستظهر رسالة خطأ.
  - _ملاحظة_: إذا تم تعيينه إلى "required_only"، ستتطلب دالة الترجمة `t` تعريف كل المواقع المعلنة. إذا كان هناك موقع مفقود، ستظهر تحذير. لكنها ستقبل إذا كان الموقع غير مُعلن في التكوين الخاص بك ولكنه موجود.
  - _ملاحظة_: إذا تم تعيينه إلى "loose"، ستقبل دالة الترجمة `t` أي موقع موجود.

- **defaultLocale**:
  - _النوع_: `string`
  - _افتراضي_: `'en'`
  - _الوصف_: الموقع الافتراضي المستخدم كنسخة احتياطية إذا لم يتم العثور على الموقع المطلوب.
  - _مثال_: `'en'`
  - _ملاحظة_: يُستخدم لتحديد الموقع عند عدم تحديد أي منه في عنوان URL أو في ملفات الكوكيز أو في الرأس.

---

### إعدادات المحرر

تعرف الإعدادات المتعلقة بالمحرر المدمج، بما في ذلك رقم منفذ الخادم والحالة النشطة.

#### الخصائص

- **backendURL**:

  - _النوع_: `string`
  - _افتراضي_: `https://back.intlayer.org`
  - _الوصف_: عنوان URL لخادم الخلفية.
  - _مثال_: `http://localhost:4000`

- **enabled**:

  - _النوع_: `boolean`
  - _افتراضي_: `true`
  - _الوصف_: يشير إلى ما إذا كان المحرر نشطًا.
  - _مثال_: `true`
  - _ملاحظة_: يمكن تعيينه باستخدام NODE_ENV أو أي متغير بيئة مخصص آخر.

- **clientId**:

  - _النوع_: `string` | `undefined`
  - _افتراضي_: `undefined`
  - _الوصف_: يسمح clientId و clientSecret لحزم Intlayer بالتحقق من الهوية مع الخلفية باستخدام مصادقة oAuth2. يُستخدم رمز الوصول للتحقق من هوية المستخدم المرتبط بالمشروع. للحصول على رمز الوصول، انتقل إلى https://back.intlayer.org/dashboard/project واصنع حسابًا.
  - _مثال_: `true`
  - _ملاحظة_: مهم: يجب الحفاظ على سرية clientId و clientSecret وعدم مشاركتها علنًا. يرجى التأكد من الاحتفاظ بها في موقع آمن، مثل متغيرات البيئة.

- **clientSecret**:
  - _النوع_: `string` | `undefined`
  - _افتراضي_: `undefined`
  - _الوصف_: يسمح clientId و clientSecret لحزم Intlayer بالتحقق من الهوية مع الخلفية باستخدام مصادقة oAuth2. يُستخدم رمز الوصول للتحقق من هوية المستخدم المرتبط بالمشروع. للحصول على رمز الوصول، انتقل إلى https://back.intlayer.org/dashboard/project واصنع حسابًا.
  - _مثال_: `true`
  - _ملاحظة_: مهم: يجب الحفاظ على سرية clientId و clientSecret وعدم مشاركتها علنًا. يرجى التأكد من الاحتفاظ بها في موقع آمن، مثل متغيرات البيئة.

### إعدادات البرمجيات الوسيطة

الإعدادات التي تتحكم في سلوك البرمجيات الوسيطة، بما في ذلك كيفية تعامل التطبيق مع الكوكيز والرؤوس وبدل الروابط لإدارة المواقع.

#### الخصائص

- **headerName**:
  - _النوع_: `string`
  - _افتراضي_: `'x-intlayer-locale'`
  - _الوصف_: اسم رأس HTTP المستخدم لتحديد الموقع.
  - _مثال_: `'x-custom-locale'`
  - _ملاحظة_: يُعتبر ذلك مفيدًا لتحديد المواقع المعتمدة على API.
- **cookieName**:
  - _النوع_: `string`
  - _افتراضي_: `'intlayer-locale'`
  - _الوصف_: اسم الكوكي الذي يُستخدم لتخزين الموقع.
  - _مثال_: `'custom-locale'`
  - _ملاحظة_: يُستخدم للاحتفاظ بالموقع عبر الجلسات.
- **prefixDefault**:
  - _النوع_: `boolean`
  - _افتراضي_: `true`
  - _الوصف_: سواء لتضمين الموقع الافتراضي في عنوان URL.
  - _مثال_: `false`
  - _ملاحظة_: إذا كان `false`، لن تحتوي عناوين URL الخاصة بالموقع الافتراضي على بادئة الموقع.
- **basePath**:
  - _النوع_: `string`
  - _افتراضي_: `''`
  - _الوصف_: المسار الأساسي لعناوين URL الخاصة بالتطبيق.
  - _مثال_: `'/my-app'`
  - _ملاحظة_: يؤثر ذلك على كيفية بناء عناوين URL الخاصة بالتطبيق.
- **serverSetCookie**:
  - _النوع_: `string`
  - _افتراضي_: `'always'`
  - _الوصف_: قاعدة لتعيين الكوكي الخاصة بالموقع على الخادم.
  - _الخيارات_: `'always'`, `'never'`
  - _مثال_: `'never'`
  - _ملاحظة_: يتحكم فيما إذا كانت الكوكي الخاصة بالموقع تُعين في كل طلب أو لا تُعيّن أبدًا.
- **noPrefix**:
  - _النوع_: `boolean`
  - _افتراضي_: `false`
  - _الوصف_: سواء لتجنب بادئة الموقع من عناوين URL.
  - _مثال_: `true`
  - _ملاحظة_: إذا كان `true`، لن تحتوي عناوين URL على معلومات الموقع.

---

### إعدادات المحتوى

الإعدادات المتعلقة بمعالجة المحتوى داخل التطبيق، بما في ذلك أسماء الأدلة، وامتدادات الملفات، والإعدادات المشتقة.

#### الخصائص

- **watch**:
  - _النوع_: `boolean`
  - _افتراضي_: `process.env.NODE_ENV === 'development'`
  - _الوصف_: يشير إلى ما إذا كانت Intlayer يجب أن تراقب التغييرات في ملفات إعلان المحتوى في التطبيق لإعادة بناء القواميس ذات الصلة.
- **fileExtensions**:
  - _النوع_: `string[]`
  - _افتراضي_: `['.content.ts', '.content.js', '.content.cjs', '.content.mjs', '.content.json', '.content.tsx', '.content.jsx']`
  - _الوصف_: امتدادات الملفات للبحث عنها عند بناء القواميس.
  - _مثال_: `['.data.ts', '.data.js', '.data.json']`
  - _ملاحظة_: يمكن أن يساعد تخصيص امتدادات الملفات في تجنب التضارب.
- **baseDir**:
  - _النوع_: `string`
  - _افتراضي_: `process.cwd()`
  - _الوصف_: الدليل الأساسي للمشروع.
  - _مثال_: `'/path/to/project'`
  - _ملاحظة_: يُستخدم هذا لحل جميع الأدلة المتعلقة بـ Intlayer.
- **dictionaryOutput**:
  - _النوع_: `string[]`
  - _افتراضي_: `['intlayer']`
  - _الوصف_: نوع مخرجات القاموس المطلوب استخدامها، مثل `'intlayer'` أو `'i18next'`.
- **contentDirName**:
  - _النوع_: `string`
  - _افتراضي_: `'src'`
  - _الوصف_: اسم الدليل الذي يتم تخزين المحتوى فيه.
  - _مثال_: `'data'`, `'content'`, `'locales'`
  - _ملاحظة_: إذا لم يكن في مستوى الدليل الأساسي، قم بتحديث `contentDir`.
- **contentDir**:

  - _النوع_: `string`
  - _مشتق من_: `'baseDir'` / `'contentDirName'`
  - _الوصف_: مسار الدليل حيث يتم تخزين المحتوى.

- **resultDirName**:
  - _النوع_: `string`
  - _افتراضي_: `'.intlayer'`
  - _الوصف_: اسم الدليل حيث يتم تخزين النتائج.
  - _مثال_: `'outputOFIntlayer'`
  - _ملاحظة_: إذا لم يكن هذا الدليل في المستوى الأساسي، قم بتحديث `resultDir`.
- **resultDir**:

  - _النوع_: `string`
  - _مشتق من_: `'baseDir'` / `'resultDirName'`
  - _الوصف_: المسار لدليل تخزين النتائج الوسيطة أو النهائية.

- **moduleAugmentationDirName**:

  - _النوع_: `string`
  - _افتراضي_: `'types'`
  - _الوصف_: دليل لتكبير الوحدات، مما يسمح بتحسين اقتراحات IDE وفحص الأنواع.
  - _مثال_: `'intlayer-types'`
  - _ملاحظة_: تأكد من تضمين ذلك في `tsconfig.json`.

- **moduleAugmentationDir**:

  - _النوع_: `string`
  - _مشتق من_: `'baseDir'` / `'moduleAugmentationDirName'`
  - _الوصف_: المسار لتكبير الوحدات وتعريفات الأنواع الإضافية.

- **dictionariesDirName**:
  - _النوع_: `string`
  - _افتراضي_: `'dictionary'`
  - _الوصف_: دليل لتخزين القواميس.
  - _مثال_: `'translations'`
  - _ملاحظة_: إذا لم يكن في مستوى دليل النتائج، قم بتحديث `dictionariesDir`.
- **dictionariesDir**:

  - _النوع_: `string`
  - _مشتق من_: `'resultDir'` / `'dictionariesDirName'`
  - _الوصف_: الدليل لتخزين قواميس الموقع.

- **i18nDictionariesDirName**:
  - _النوع_: `string`
  - _افتراضي_: `'i18n_dictionary'`
  - _الوصف_: دليل لتخزين قواميس i18n.
  - _مثال_: `'translations'`
  - _ملاحظة_: إذا لم يكن في مستوى دليل النتائج، قم بتحديث `i18nDictionariesDir`.
  - _ملاحظة_: تأكد من أن ناتج قواميس i18n يتضمن i18next لبناء القواميس لـ i18next.
- **i18nDictionariesDir**:

  - _النوع_: `string`
  - _مشتق من_: `'resultDir'` / `'i18nDictionariesDirName'`
  - _الوصف_: الدليل لتخزين قواميس i18n.
  - _ملاحظة_: تأكد من تكوين هذا الدليل لنوع مخرجات i18next.

- **typeDirName**:

  - _النوع_: `string`
  - _افتراضي_: `'types'`
  - _الوصف_: دليل لتخزين أنواع القواميس.
  - _مثال_: `'intlayer-types'`
  - _ملاحظة_: إذا لم يكن في مستوى دليل النتائج، قم بتحديث `typesDir`.

- **typesDir**:

  - _النوع_: `string`
  - _مشتق من_: `'resultDir'` / `'typeDirName'`
  - _الوصف_: الدليل لتخزين أنواع القواميس.

- **mainDirName**:
  - _النوع_: `string`
  - _افتراضي_: `'main'`
  - _الوصف_: دليل لتخزين الملفات الرئيسية.
  - _مثال_: `'intlayer-main'`
  - _ملاحظة_: إذا لم يكن في مستوى دليل النتائج، قم بتحديث `mainDir`.
- **mainDir**:
  - _النوع_: `string`
  - _مشتق من_: `'resultDir'` / `'mainDirName'`
  - _الوصف_: الدليل حيث يتم تخزين ملفات التطبيق الرئيسية.
- **excludedPath**:
  - _النوع_: `string[]`
  - _افتراضي_: `['node_modules']`
  - _الوصف_: الأدلة المستبعدة من البحث عن المحتوى.
  - _ملاحظة_: هذا الإعداد لم يُستخدم بعد، ولكن مُخطط له للتنفيذ في المستقبل.
