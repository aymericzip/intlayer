---
createdAt: 2025-09-04
updatedAt: 2025-09-09
title: Getting Started with Intlayer in React Router v7
description: Learn how to add internationalization (i18n) to your React Router v7 application using Intlayer. Follow this comprehensive guide to make your app multilingual with locale-aware routing.
keywords:
  - Internationalization
  - Documentation
  - Intlayer
  - React Router v7
  - React
  - i18n
  - TypeScript
  - Locale Routing
slugs:
  - doc
  - environment
  - vite-and-react
  - react-router-v7
applicationTemplate: https://github.com/AydinTheFirst/react-router-intlayer
author: AydinTheFirst
---

# Getting Started Internationalizing (i18n) with Intlayer and React Router v7

This guide demonstrates how to integrate **Intlayer** for seamless internationalization in React Router v7 projects with locale-aware routing, TypeScript support, and modern development practices.

## What is Intlayer?

**Intlayer** is an innovative, open-source internationalization (i18n) library designed to simplify multilingual support in modern web applications.

With Intlayer, you can:

- **Easily manage translations** using declarative dictionaries at the component level.
- **Dynamically localize metadata**, routes, and content.
- **Ensure TypeScript support** with autogenerated types, improving autocompletion and error detection.
- **Benefit from advanced features**, like dynamic locale detection and switching.
- **Enable locale-aware routing** with React Router v7's configuration-based routing system.

---

## Step-by-Step Guide to Set Up Intlayer in a React Router v7 Application

### Step 1: Install Dependencies

Install the necessary packages using your preferred package manager:

```bash packageManager="npm"
npm install intlayer react-intlayer
npm install vite-intlayer --save-dev
```

```bash packageManager="pnpm"
pnpm add intlayer react-intlayer
pnpm add vite-intlayer --save-dev
```

- **intlayer**

  The core package that provides internationalization tools for configuration management, translation, [content declaration](/doc/concept/content), transpilation, and [CLI commands](/doc/concept/cli).

- **react-intlayer**
  The package that integrates Intlayer with React application. It provides context providers and hooks for React internationalization.

- **vite-intlayer**
  Includes the Vite plugin for integrating Intlayer with the [Vite bundler](https://vite.dev/guide/why.html#why-bundle-for-production), as well as middleware for detecting the user's preferred locale, managing cookies, and handling URL redirection.

### Step 2: Configuration of your project

Create a config file to configure the languages of your application:

```typescript fileName="intlayer.config.ts" codeFormat="typescript"
import { type IntlayerConfig, Locales } from "intlayer";

const config: IntlayerConfig = {
  internationalization: {
    defaultLocale: Locales.ENGLISH,
    locales: [Locales.ENGLISH, Locales.TURKISH],
  },
};

export default config;
```

```javascript fileName="intlayer.config.mjs" codeFormat="esm"
import { Locales } from "intlayer";

/** @type {import('intlayer').IntlayerConfig} */
const config = {
  internationalization: {
    defaultLocale: Locales.ENGLISH,
    locales: [Locales.ENGLISH, Locales.TURKISH],
  },
};

export default config;
```

```javascript fileName="intlayer.config.cjs" codeFormat="commonjs"
const { Locales } = require("intlayer");

/** @type {import('intlayer').IntlayerConfig} */
const config = {
  internationalization: {
    defaultLocale: Locales.ENGLISH,
    locales: [Locales.ENGLISH, Locales.TURKISH],
  },
};

module.exports = config;
```

> Through this configuration file, you can set up localized URLs, middleware redirection, cookie names, the location and extension of your content declarations, disable Intlayer logs in the console, and more. For a complete list of available parameters, refer to the [configuration documentation](/doc/concept/configuration).

### Step 3: Configure React Router v7 Routes

Set up your routing configuration with locale-aware routes:

```typescript fileName="app/routes.ts" codeFormat="typescript"
import { layout, route, type RouteConfig } from "@react-router/dev/routes";

export default [
  layout("routes/layout.tsx", [
    route("/:locale?", "routes/page.tsx"),
    route("/:locale?/about", "routes/about/page.tsx"),
  ]),
] satisfies RouteConfig;
```

### Step 4: Integrate Intlayer in Your Vite Configuration

Add the intlayer plugin into your configuration:

```typescript fileName="vite.config.ts" codeFormat="typescript"
import { reactRouter } from "@react-router/dev/vite";
import { defineConfig } from "vite";
import { intlayerMiddlewarePlugin, intlayerPlugin } from "vite-intlayer";
import tsconfigPaths from "vite-tsconfig-paths";

export default defineConfig({
  plugins: [
    reactRouter(),
    tsconfigPaths(),
    intlayerPlugin(),
    intlayerMiddlewarePlugin(), // Optional: only if you want to use middleware (if you use it in production, move it to dependencies)
  ],
});
```

> The `intlayerPlugin()` Vite plugin is used to integrate Intlayer with Vite. It ensures the building of content declaration files and monitors them in development mode. It defines Intlayer environment variables within the Vite application. Additionally, it provides aliases to optimize performance.

### Step 5: Create Layout Components

Set up your root layout and locale-specific layouts:

#### Root Layout

```tsx fileName="app/routes/layout.tsx" codeFormat="typescript"
// app/routes/layout.tsx
import { IntlayerProvider, useLocale } from "react-intlayer";
import { Navigate, Outlet } from "react-router";

import type { Route } from "./+types/layout";

export default function RootLayout({ params }: Route.ComponentProps) {

  const { locale } = params;

  return (
      <IntlayerProvider locale={locale}>
        <Outlet />
      </IntlayerProvider>
    );
}
```

### Step 6: Declare Your Content

Create and manage your content declarations to store translations:

```tsx fileName="app/routes/page.content.ts" contentDeclarationFormat="typescript"
import { t, type Dictionary } from "intlayer";

const pageContent = {
  key: "page",
  content: {
    title: t({
      en: "Welcome to React Router v7 + Intlayer",
      tr: "React Router v7 + Intlayer'a Hoş Geldiniz",
    }),
    description: t({
      en: "Build multilingual applications with ease using React Router v7 and Intlayer.",
      tr: "React Router v7 ve Intlayer kullanarak kolayca çok dilli uygulamalar geliştirin.",
    }),
    aboutLink: t({
      en: "Learn About Us",
      tr: "Hakkımızda Öğrenin",
    }),
    homeLink: t({
      en: "Home",
      tr: "Ana Sayfa",
    }),
  },
} satisfies Dictionary;

export default pageContent;
```

> Your content declarations can be defined anywhere in your application as soon they are included into the `contentDir` directory (by default, `./app`). And match the content declaration file extension (by default, `.content.{json,ts,tsx,js,jsx,mjs,mjx,cjs,cjx}`).

> For more details, refer to the [content declaration documentation](/doc/concept/content).

### Step 7: Create Locale-Aware Components and Hooks

Create a `LocalizedLink` component for locale-aware navigation:

```tsx fileName="app/components/localized-link.tsx" codeFormat="typescript"
// app/components/localized-link.tsx
import { getLocalizedUrl } from "intlayer";
import { useLocale } from "react-intlayer";
import React from "react";
import { Link, useLocation } from "react-router";

type RouterLinkProps = React.ComponentProps<typeof Link>;

export default function LocalizedLink({ to, ...props }: RouterLinkProps) {
  const { locale } = useLocale();
  const location = useLocation();

  const isExternal = (path: string) =>
    /^([a-z][a-z0-9+.-]*:)?\/\//i.test(path) || path.startsWith("mailto:");

  if (typeof to === "string") {
    if (to.startsWith("/") && !isExternal(to)) {
      return <Link to={getLocalizedUrl(to, locale)} {...props} />;
    }
    return <Link to={to} {...props} />;
  }

  if (to && typeof to === "object") {
    const pathname = (to as { pathname?: string }).pathname;
    if (pathname && pathname.startsWith("/") && !isExternal(pathname)) {
      return (
        <Link
          to={{ ...to, pathname: getLocalizedUrl(pathname, locale) }}
          {...props}
        />
      );
    }
    return <Link to={to} {...props} />;
  }

  return (
    <Link
      to={getLocalizedUrl(location.pathname + location.search, locale)}
      {...props}
    />
  );
}
```

Create a `useLocalizedNavigate` hook for locale-aware navigation:

```tsx fileName="app/hooks/useLocalizedNavigate.tsx" codeFormat="typescript"
import { getLocalizedUrl } from "intlayer";
import { useLocale } from "react-intlayer";
// eslint-disable-next-line no-restricted-imports
import { type NavigateOptions, useNavigate } from "react-router";

export const useLocalizedNavigate = () => {
  const navigate = useNavigate();
  const { locale } = useLocale();

  const isExternal = (to: string) => {
    return /^(https?:)?\/\//.test(to);
  };

  const localizedNavigate = (to: string, options?: NavigateOptions) => {
    const localedTo = isExternal(to) ? to : getLocalizedUrl(to, locale);
    navigate(localedTo, options);
  };

  return localizedNavigate;
};
```

### Step 8: Utilize Intlayer in Your Pages

Access your content dictionaries throughout your application:

#### Localized Home Page

```tsx fileName="app/routes/page.tsx" codeFormat="typescript"
import { useIntlayer } from "react-intlayer";
import LocalizedLink from "~/components/localized-link";

export default function Page() {
  const content = useIntlayer("page");

  return (
    <div style={{ padding: "2rem", textAlign: "center" }}>
      <h1>{content.title}</h1>
      <p>{content.description}</p>
      <nav style={{ marginTop: "2rem" }}>
        <LocalizedLink
          to="/about"
          style={{
            display: "inline-block",
            padding: "0.5rem 1rem",
            backgroundColor: "#007bff",
            color: "white",
            textDecoration: "none",
            borderRadius: "4px",
          }}
        >
          {content.aboutLink}
        </LocalizedLink>
      </nav>
    </div>
  );
}
```

> To Learn more about the `useIntlayer` hook, refer to the [documentation](/doc/packages/react-intlayer/useIntlayer).

### Step 9: Create a Locale Switcher Component

Create a component to allow users to change languages:

```tsx fileName="app/components/locale-switcher.tsx" codeFormat="typescript"
import {
  getHTMLTextDir,
  getLocaleName,
  getLocalizedUrl,
  Locales,
} from "intlayer";
import { useLocale } from "react-intlayer";
import { useLocation } from "react-router";

export default function LocaleSwitcher() {
  const { pathname, search } = useLocation();

  const { availableLocales, locale, setLocale } = useLocale({
    onLocaleChange: (newLocale) => {
      const pathWithLocale = getLocalizedUrl(pathname + search, newLocale);
      location.replace(pathWithLocale);
    },
  });

  return (
    <select
      aria-label="Select language"
      onChange={(e) => setLocale(e.target.value)}
      value={locale}
    >
      {availableLocales.map((localeItem) => (
        <option
          dir={getHTMLTextDir(localeItem)}
          key={localeItem}
          lang={localeItem}
          value={localeItem}
        >
          {/* Example: Français (French) */}
          {getLocaleName(localeItem, locale)} (
          {getLocaleName(localeItem, Locales.ENGLISH)})
        </option>
      ))}
    </select>
  );
}
```

> To Learn more about the `useLocale` hook, refer to the [documentation](/doc/packages/react-intlayer/useLocale).

### Step 10: Add HTML Attributes Management (Optional)

Create a hook to manage HTML lang and dir attributes:

```tsx fileName="app/hooks/useI18nHTMLAttributes.tsx" codeFormat="typescript"
// app/hooks/useI18nHTMLAttributes.tsx
import { getHTMLTextDir } from "intlayer";
import { useEffect } from "react";
import { useLocale } from "react-intlayer";

export const useI18nHTMLAttributes = () => {
  const { locale } = useLocale();

  useEffect(() => {
    document.documentElement.lang = locale;
    document.documentElement.dir = getHTMLTextDir(locale);
  }, [locale]);
};
```

Then use it in your root component:

```tsx fileName="app/routes/layout.tsx" codeFormat="typescript"
// app/routes/layout.tsx
import { configuration } from "intlayer";
import { IntlayerProvider, useLocale } from "react-intlayer";
import { Navigate, Outlet } from "react-router";

import { useI18nHTMLAttributes } from "~/hooks/useI18nHTMLAttributes"; // Import the hook

import type { Route } from "./+types/layout";

export default function RootLayout({ params }: Route.ComponentProps) {
  useI18nHTMLAttributes(); // Use the hook to set HTML attributes

  const { locale } = params;

  return (
    <IntlayerProvider locale={locale}>
      <Outlet />
    </IntlayerProvider>
  );
}
```

### Step 11: Build and Run Your Application

Build the content dictionaries and run your application:

```bash packageManager="npm"
# Build Intlayer dictionaries
npm run intlayer:build

# Start development server
npm run dev
```

```bash packageManager="pnpm"
# Build Intlayer dictionaries
pnpm intlayer:build

# Start development server
pnpm dev
```

```bash packageManager="yarn"
# Build Intlayer dictionaries
yarn intlayer:build

# Start development server
yarn dev
```

### Step 12: Configure TypeScript (Optional)

Intlayer uses module augmentation to get benefits of TypeScript and make your codebase stronger.

Ensure your TypeScript configuration includes the autogenerated types:

```json5 fileName="tsconfig.json"
{
  compilerOptions: {
    // ... your existing TypeScript configurations
  },
  include: [
    // ... your existing includes
    ".intlayer/**/*.ts", // Include the auto-generated types
  ],
}
```

### Step 13: Create Redirection
```tsx fileName="app/routes/layout.tsx" codeFormat="typescript"
import { configuration } from "intlayer";
import { IntlayerProvider, useLocale } from "react-intlayer";
import { Navigate, Outlet } from "react-router";

import { useI18nHTMLAttributes } from "~/hooks/useI18nHTMLAttributes";

import type { Route } from "./+types/layout";

export default function RootLayout({ params }: Route.ComponentProps) {
  useI18nHTMLAttributes();

  const { locale } = params;
  const { locale: selectedLocale } = useLocale();
  const { defaultLocale } = configuration.internationalization;
  const { prefixDefault } = configuration.middleware;

  // Redirect to default locale if no locale is provided in the URL and prefixDefault is true
  if (selectedLocale === defaultLocale && !locale && prefixDefault) {
    return <Navigate replace to={defaultLocale} />;
  }

  // Redirect to selected locale if the locale in the URL does not match the selected locale
  if (selectedLocale !== locale && !locale) {
    return <Navigate replace to={selectedLocale} />;
  }

  return (
    <IntlayerProvider locale={locale}>
      <Outlet />
    </IntlayerProvider>
  );
}
```


### Git Configuration

It is recommended to ignore the files generated by Intlayer. This allows you to avoid committing them to your Git repository.

To do this, you can add the following instructions to your `.gitignore` file:

```plaintext fileName=".gitignore"
# Ignore the files generated by Intlayer
.intlayer
```

---

## Production Deployment

When deploying your application:

1. **Build your application:**

   ```bash
   npm run build
   ```

2. **Build Intlayer dictionaries:**

   ```bash
   npm run intlayer:build
   ```

3. **Move `vite-intlayer` to dependencies** if using middleware in production:
   ```bash
   npm install vite-intlayer --save
   ```

Your application will now support:

- **URL Structure**: `/en`, `/en/about`, `/tr`, `/tr/about`
- **Automatic locale detection** based on browser preferences
- **Locale-aware routing** with React Router v7
- **TypeScript support** with auto-generated types
- **Server-side rendering** with proper locale handling

## VS Code Extension

To improve your development experience with Intlayer, you can install the official **Intlayer VS Code Extension**.

[Install from the VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=intlayer.intlayer-vs-code-extension)

This extension provides:

- **Autocompletion** for translation keys.
- **Real-time error detection** for missing translations.
- **Inline previews** of translated content.
- **Quick actions** to easily create and update translations.

For more details on how to use the extension, refer to the [Intlayer VS Code Extension documentation](https://intlayer.org/doc/vs-code-extension).

---

## Go Further

To go further, you can implement the [visual editor](/doc/concept/editor) or externalize your content using the [CMS](/doc/concept/cms).

---

## Documentation References

- [Intlayer Documentation](https://intlayer.org)
- [React Router v7 Documentation](https://reactrouter.com/)
- [useIntlayer hook](/doc/packages/react-intlayer/useIntlayer)
- [useLocale hook](/doc/packages/react-intlayer/useLocale)
- [Content Declaration](/doc/concept/content)
- [Configuration](/doc/concept/configuration)

This comprehensive guide provides everything you need to integrate Intlayer with React Router v7 for a fully internationalized application with locale-aware routing and TypeScript support.

## Doc History

| Version | Date      | Changes                   |
| ------- | --------- | ------------------------- |
| 5.8.2   | 2025-09-4 | Added for React Router v7 |
